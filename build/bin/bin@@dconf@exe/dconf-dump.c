/* dconf-dump.c generated by valac 0.40.7, the Vala compiler
 * generated from dconf-dump.vala, do not modify */



#include <glib.h>
#include <glib-object.h>
#include "dconf.h"
#include <stdlib.h>
#include <string.h>
#include <stdio.h>

#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
#define _g_key_file_unref0(var) ((var == NULL) ? NULL : (var = (g_key_file_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_string_free0(var) ((var == NULL) ? NULL : (var = (g_string_free (var, TRUE), NULL)))
#define _dconf_changeset_unref0(var) ((var == NULL) ? NULL : (var = (dconf_changeset_unref (var), NULL)))



void add_to_keyfile (GKeyFile* kf,
                     DConfClient* client,
                     const gchar* topdir,
                     const gchar* rel);
void dconf_dump (gchar** args,
                 int args_length1,
                 GError** error);
GKeyFile* keyfile_from_stdin (GError** error);
void dconf_load (gchar** args,
                 int args_length1,
                 GError** error);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);


static gchar*
string_slice (const gchar* self,
              glong start,
              glong end)
{
	gchar* result = NULL;
	glong string_length = 0L;
	gint _tmp0_;
	gint _tmp1_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp6_ = FALSE;
	gchar* _tmp8_;
#line 1369 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1370 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1370 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1370 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	string_length = (glong) _tmp1_;
#line 1371 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (start < ((glong) 0)) {
#line 64 "dconf-dump.c"
		glong _tmp2_;
#line 1372 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp2_ = string_length;
#line 1372 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		start = _tmp2_ + start;
#line 70 "dconf-dump.c"
	}
#line 1374 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (end < ((glong) 0)) {
#line 74 "dconf-dump.c"
		glong _tmp3_;
#line 1375 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp3_ = string_length;
#line 1375 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		end = _tmp3_ + end;
#line 80 "dconf-dump.c"
	}
#line 1377 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (start >= ((glong) 0)) {
#line 84 "dconf-dump.c"
		glong _tmp5_;
#line 1377 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp5_ = string_length;
#line 1377 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp4_ = start <= _tmp5_;
#line 90 "dconf-dump.c"
	} else {
#line 1377 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp4_ = FALSE;
#line 94 "dconf-dump.c"
	}
#line 1377 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (_tmp4_, NULL);
#line 1378 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (end >= ((glong) 0)) {
#line 100 "dconf-dump.c"
		glong _tmp7_;
#line 1378 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp7_ = string_length;
#line 1378 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp6_ = end <= _tmp7_;
#line 106 "dconf-dump.c"
	} else {
#line 1378 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp6_ = FALSE;
#line 110 "dconf-dump.c"
	}
#line 1378 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (_tmp6_, NULL);
#line 1379 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (start <= end, NULL);
#line 1380 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp8_ = g_strndup (((gchar*) self) + start, (gsize) (end - start));
#line 1380 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	result = _tmp8_;
#line 1380 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	return result;
#line 122 "dconf-dump.c"
}


void
add_to_keyfile (GKeyFile* kf,
                DConfClient* client,
                const gchar* topdir,
                const gchar* rel)
{
	gchar* this_dir = NULL;
	gchar* _tmp0_;
	gchar* this_group = NULL;
	const gchar* _tmp3_;
	gint _tmp4_;
	gchar** _tmp5_;
#line 1 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	g_return_if_fail (kf != NULL);
#line 1 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	g_return_if_fail (client != NULL);
#line 1 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	g_return_if_fail (topdir != NULL);
#line 2 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp0_ = g_strconcat (topdir, rel, NULL);
#line 2 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	this_dir = _tmp0_;
#line 5 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	if (g_strcmp0 (rel, "") != 0) {
#line 150 "dconf-dump.c"
		gchar* _tmp1_;
#line 6 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_tmp1_ = string_slice (rel, (glong) 0, (glong) -1);
#line 6 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_free0 (this_group);
#line 6 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		this_group = _tmp1_;
#line 158 "dconf-dump.c"
	} else {
		gchar* _tmp2_;
#line 8 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_tmp2_ = g_strdup ("/");
#line 8 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_free0 (this_group);
#line 8 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		this_group = _tmp2_;
#line 167 "dconf-dump.c"
	}
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp3_ = this_dir;
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp5_ = dconf_client_list (client, _tmp3_, &_tmp4_);
#line 173 "dconf-dump.c"
	{
		gchar** item_collection = NULL;
		gint item_collection_length1 = 0;
		gint _item_collection_size_ = 0;
		gint item_it = 0;
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		item_collection = _tmp5_;
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		item_collection_length1 = _tmp4_;
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		for (item_it = 0; item_it < _tmp4_; item_it = item_it + 1) {
#line 185 "dconf-dump.c"
			gchar* _tmp6_;
			gchar* item = NULL;
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
			_tmp6_ = g_strdup (item_collection[item_it]);
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
			item = _tmp6_;
#line 192 "dconf-dump.c"
			{
				const gchar* _tmp7_;
#line 12 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_tmp7_ = item;
#line 12 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				if (g_str_has_suffix (_tmp7_, "/")) {
#line 199 "dconf-dump.c"
					const gchar* _tmp8_;
					gchar* _tmp9_;
					gchar* _tmp10_;
#line 13 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp8_ = item;
#line 13 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp9_ = g_strconcat (rel, _tmp8_, NULL);
#line 13 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp10_ = _tmp9_;
#line 13 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					add_to_keyfile (kf, client, topdir, _tmp10_);
#line 13 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_g_free0 (_tmp10_);
#line 213 "dconf-dump.c"
				} else {
					GVariant* val = NULL;
					const gchar* _tmp11_;
					const gchar* _tmp12_;
					gchar* _tmp13_;
					gchar* _tmp14_;
					GVariant* _tmp15_;
					GVariant* _tmp16_;
					GVariant* _tmp17_;
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp11_ = this_dir;
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp12_ = item;
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp13_ = g_strconcat (_tmp11_, _tmp12_, NULL);
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp14_ = _tmp13_;
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp15_ = dconf_client_read (client, _tmp14_);
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp16_ = _tmp15_;
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_g_free0 (_tmp14_);
#line 15 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					val = _tmp16_;
#line 17 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_tmp17_ = val;
#line 17 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					if (_tmp17_ != NULL) {
#line 243 "dconf-dump.c"
						const gchar* _tmp18_;
						const gchar* _tmp19_;
						GVariant* _tmp20_;
						gchar* _tmp21_;
						gchar* _tmp22_;
#line 18 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						_tmp18_ = this_group;
#line 18 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						_tmp19_ = item;
#line 18 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						_tmp20_ = val;
#line 18 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						_tmp21_ = g_variant_print (_tmp20_, TRUE);
#line 18 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						_tmp22_ = _tmp21_;
#line 18 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						g_key_file_set_value (kf, _tmp18_, _tmp19_, _tmp22_);
#line 18 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						_g_free0 (_tmp22_);
#line 263 "dconf-dump.c"
					}
#line 12 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_g_variant_unref0 (val);
#line 267 "dconf-dump.c"
				}
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_g_free0 (item);
#line 271 "dconf-dump.c"
			}
		}
#line 11 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		item_collection = (_vala_array_free (item_collection, item_collection_length1, (GDestroyNotify) g_free), NULL);
#line 276 "dconf-dump.c"
	}
#line 1 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_free0 (this_group);
#line 1 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_free0 (this_dir);
#line 282 "dconf-dump.c"
}


void
dconf_dump (gchar** args,
            int args_length1,
            GError** error)
{
	DConfClient* client = NULL;
	DConfClient* _tmp0_;
	GKeyFile* kf = NULL;
	GKeyFile* _tmp1_;
	gchar* dir = NULL;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	GError * _inner_error_ = NULL;
#line 25 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp0_ = dconf_client_new ();
#line 25 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	client = _tmp0_;
#line 26 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp1_ = g_key_file_new ();
#line 26 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	kf = _tmp1_;
#line 27 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp2_ = args[2];
#line 27 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 27 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	dir = _tmp3_;
#line 29 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	dconf_is_dir (dir, &_inner_error_);
#line 29 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 29 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		g_propagate_error (error, _inner_error_);
#line 29 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_free0 (dir);
#line 29 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_key_file_unref0 (kf);
#line 29 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_object_unref0 (client);
#line 29 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		return;
#line 329 "dconf-dump.c"
	}
#line 31 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	add_to_keyfile (kf, client, dir, "");
#line 32 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp4_ = g_key_file_to_data (kf, NULL, NULL);
#line 32 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp5_ = _tmp4_;
#line 32 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	g_print ("%s", _tmp5_);
#line 32 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_free0 (_tmp5_);
#line 24 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_free0 (dir);
#line 24 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_key_file_unref0 (kf);
#line 24 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_object_unref0 (client);
#line 347 "dconf-dump.c"
}


GKeyFile*
keyfile_from_stdin (GError** error)
{
	GKeyFile* result = NULL;
	const gchar* tmp = NULL;
	gchar buffer[1024] = {0};
	GString* s = NULL;
	GString* _tmp0_;
	GKeyFile* kf = NULL;
	GKeyFile* _tmp6_;
	GString* _tmp7_;
	const gchar* _tmp8_;
	GString* _tmp9_;
	gssize _tmp10_;
	GError * _inner_error_ = NULL;
#line 39 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp0_ = g_string_new ("");
#line 39 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	s = _tmp0_;
#line 40 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	while (TRUE) {
#line 372 "dconf-dump.c"
		FILE* _tmp1_;
		const gchar* _tmp2_;
		const gchar* _tmp3_;
		GString* _tmp4_;
		const gchar* _tmp5_;
#line 40 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_tmp1_ = stdin;
#line 40 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_tmp2_ = fgets (buffer, 1024, _tmp1_);
#line 40 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		tmp = _tmp2_;
#line 40 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_tmp3_ = tmp;
#line 40 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		if (!(_tmp3_ != NULL)) {
#line 40 "/home/daniel/code/dconf/bin/dconf-dump.vala"
			break;
#line 390 "dconf-dump.c"
		}
#line 41 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_tmp4_ = s;
#line 41 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_tmp5_ = tmp;
#line 41 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		g_string_append (_tmp4_, _tmp5_);
#line 398 "dconf-dump.c"
	}
#line 44 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp6_ = g_key_file_new ();
#line 44 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	kf = _tmp6_;
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp7_ = s;
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp8_ = _tmp7_->str;
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp9_ = s;
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp10_ = _tmp9_->len;
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	g_key_file_load_from_data (kf, _tmp8_, (gsize) _tmp10_, 0, &_inner_error_);
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		g_propagate_error (error, _inner_error_);
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_key_file_unref0 (kf);
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_string_free0 (s);
#line 45 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		return NULL;
#line 424 "dconf-dump.c"
	}
#line 47 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	result = kf;
#line 47 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_string_free0 (s);
#line 47 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	return result;
#line 432 "dconf-dump.c"
}


void
dconf_load (gchar** args,
            int args_length1,
            GError** error)
{
	gchar* dir = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	DConfChangeset* changeset = NULL;
	DConfChangeset* _tmp3_;
	GKeyFile* kf = NULL;
	GKeyFile* _tmp4_;
	GKeyFile* _tmp5_;
	gsize _tmp6_;
	gchar** _tmp7_;
	DConfClient* client = NULL;
	DConfClient* _tmp36_;
	DConfClient* _tmp37_;
	DConfChangeset* _tmp38_;
	GError * _inner_error_ = NULL;
#line 51 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp0_ = args[2];
#line 51 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 51 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	dir = _tmp1_;
#line 52 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp2_ = dir;
#line 52 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	dconf_is_dir (_tmp2_, &_inner_error_);
#line 52 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 52 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		g_propagate_error (error, _inner_error_);
#line 52 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_free0 (dir);
#line 52 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		return;
#line 475 "dconf-dump.c"
	}
#line 54 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp3_ = dconf_changeset_new ();
#line 54 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	changeset = _tmp3_;
#line 55 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp4_ = keyfile_from_stdin (&_inner_error_);
#line 55 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	kf = _tmp4_;
#line 55 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 55 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		g_propagate_error (error, _inner_error_);
#line 55 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_dconf_changeset_unref0 (changeset);
#line 55 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_free0 (dir);
#line 55 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		return;
#line 495 "dconf-dump.c"
	}
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp5_ = kf;
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp7_ = g_key_file_get_groups (_tmp5_, &_tmp6_);
#line 501 "dconf-dump.c"
	{
		gchar** group_collection = NULL;
		gint group_collection_length1 = 0;
		gint _group_collection_size_ = 0;
		gint group_it = 0;
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		group_collection = _tmp7_;
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		group_collection_length1 = _tmp6_;
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		for (group_it = 0; group_it < _tmp6_; group_it = group_it + 1) {
#line 513 "dconf-dump.c"
			gchar* _tmp8_;
			gchar* group = NULL;
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
			_tmp8_ = g_strdup (group_collection[group_it]);
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
			group = _tmp8_;
#line 520 "dconf-dump.c"
			{
				gchar** _tmp9_ = NULL;
				GKeyFile* _tmp10_;
				const gchar* _tmp11_;
				gsize _tmp12_;
				gchar** _tmp13_;
				gint _tmp9__length1;
				gint __tmp9__size_;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_tmp10_ = kf;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_tmp11_ = group;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_tmp13_ = g_key_file_get_keys (_tmp10_, _tmp11_, &_tmp12_, &_inner_error_);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_tmp9_ = _tmp13_;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_tmp9__length1 = _tmp12_;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				__tmp9__size_ = _tmp9__length1;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					g_propagate_error (error, _inner_error_);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_g_free0 (group);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					group_collection = (_vala_array_free (group_collection, group_collection_length1, (GDestroyNotify) g_free), NULL);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_g_key_file_unref0 (kf);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_dconf_changeset_unref0 (changeset);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					_g_free0 (dir);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					return;
#line 557 "dconf-dump.c"
				}
				{
					gchar** key_collection = NULL;
					gint key_collection_length1 = 0;
					gint _key_collection_size_ = 0;
					gint key_it = 0;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					key_collection = _tmp9_;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					key_collection_length1 = _tmp9__length1;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
					for (key_it = 0; key_it < _tmp9__length1; key_it = key_it + 1) {
#line 570 "dconf-dump.c"
						gchar* _tmp14_;
						gchar* key = NULL;
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						_tmp14_ = g_strdup (key_collection[key_it]);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
						key = _tmp14_;
#line 577 "dconf-dump.c"
						{
							gchar* _tmp15_ = NULL;
							const gchar* _tmp16_;
							gchar* path = NULL;
							const gchar* _tmp20_;
							gchar* _tmp21_;
							gchar* _tmp22_;
							const gchar* _tmp23_;
							gchar* _tmp24_;
							gchar* _tmp25_;
							const gchar* _tmp26_;
							gchar* _tmp27_ = NULL;
							GKeyFile* _tmp28_;
							const gchar* _tmp29_;
							const gchar* _tmp30_;
							gchar* _tmp31_;
							GVariant* _tmp32_ = NULL;
							GVariant* _tmp33_;
							DConfChangeset* _tmp34_;
							const gchar* _tmp35_;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp16_ = group;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							if (g_strcmp0 (_tmp16_, "/") == 0) {
#line 602 "dconf-dump.c"
								gchar* _tmp17_;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp17_ = g_strdup ("");
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (_tmp15_);
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp15_ = _tmp17_;
#line 610 "dconf-dump.c"
							} else {
								const gchar* _tmp18_;
								gchar* _tmp19_;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp18_ = group;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp19_ = g_strconcat (_tmp18_, "/", NULL);
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (_tmp15_);
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp15_ = _tmp19_;
#line 622 "dconf-dump.c"
							}
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp20_ = dir;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp21_ = g_strconcat (_tmp20_, _tmp15_, NULL);
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp22_ = _tmp21_;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp23_ = key;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp24_ = g_strconcat (_tmp22_, _tmp23_, NULL);
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp25_ = _tmp24_;
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_g_free0 (_tmp22_);
#line 59 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							path = _tmp25_;
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp26_ = path;
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							dconf_is_key (_tmp26_, &_inner_error_);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								g_propagate_error (error, _inner_error_);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (path);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (_tmp15_);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (key);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp9_ = (_vala_array_free (_tmp9_, _tmp9__length1, (GDestroyNotify) g_free), NULL);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (group);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								group_collection = (_vala_array_free (group_collection, group_collection_length1, (GDestroyNotify) g_free), NULL);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_key_file_unref0 (kf);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_dconf_changeset_unref0 (changeset);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (dir);
#line 60 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								return;
#line 668 "dconf-dump.c"
							}
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp28_ = kf;
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp29_ = group;
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp30_ = key;
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp31_ = g_key_file_get_value (_tmp28_, _tmp29_, _tmp30_, &_inner_error_);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp27_ = _tmp31_;
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								g_propagate_error (error, _inner_error_);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (path);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (_tmp15_);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (key);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp9_ = (_vala_array_free (_tmp9_, _tmp9__length1, (GDestroyNotify) g_free), NULL);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (group);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								group_collection = (_vala_array_free (group_collection, group_collection_length1, (GDestroyNotify) g_free), NULL);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_key_file_unref0 (kf);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_dconf_changeset_unref0 (changeset);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (dir);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								return;
#line 704 "dconf-dump.c"
							}
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp33_ = g_variant_parse (NULL, _tmp27_, NULL, NULL, &_inner_error_);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp32_ = _tmp33_;
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								g_propagate_error (error, _inner_error_);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (_tmp27_);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (path);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (_tmp15_);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (key);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_tmp9_ = (_vala_array_free (_tmp9_, _tmp9__length1, (GDestroyNotify) g_free), NULL);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (group);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								group_collection = (_vala_array_free (group_collection, group_collection_length1, (GDestroyNotify) g_free), NULL);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_key_file_unref0 (kf);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_dconf_changeset_unref0 (changeset);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								_g_free0 (dir);
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
								return;
#line 736 "dconf-dump.c"
							}
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp34_ = changeset;
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_tmp35_ = path;
#line 61 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							dconf_changeset_set (_tmp34_, _tmp35_, _tmp32_);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_g_variant_unref0 (_tmp32_);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_g_free0 (_tmp27_);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_g_free0 (path);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_g_free0 (_tmp15_);
#line 58 "/home/daniel/code/dconf/bin/dconf-dump.vala"
							_g_free0 (key);
#line 754 "dconf-dump.c"
						}
					}
				}
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_tmp9_ = (_vala_array_free (_tmp9_, _tmp9__length1, (GDestroyNotify) g_free), NULL);
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
				_g_free0 (group);
#line 762 "dconf-dump.c"
			}
		}
#line 57 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		group_collection = (_vala_array_free (group_collection, group_collection_length1, (GDestroyNotify) g_free), NULL);
#line 767 "dconf-dump.c"
	}
#line 65 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp36_ = dconf_client_new ();
#line 65 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	client = _tmp36_;
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp37_ = client;
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_tmp38_ = changeset;
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	dconf_client_change_sync (_tmp37_, _tmp38_, NULL, NULL, &_inner_error_);
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		g_propagate_error (error, _inner_error_);
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_object_unref0 (client);
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_key_file_unref0 (kf);
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_dconf_changeset_unref0 (changeset);
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		_g_free0 (dir);
#line 66 "/home/daniel/code/dconf/bin/dconf-dump.vala"
		return;
#line 793 "dconf-dump.c"
	}
#line 50 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_object_unref0 (client);
#line 50 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_key_file_unref0 (kf);
#line 50 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_dconf_changeset_unref0 (changeset);
#line 50 "/home/daniel/code/dconf/bin/dconf-dump.vala"
	_g_free0 (dir);
#line 803 "dconf-dump.c"
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



